<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>OtÃ¡zky</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<header>
  <nav class="topnav">
    <a href="home.html">DomÅ¯</a>
    <a href="index.html">Ãškoly</a>
    <a href="otazky.html" aria-current="page">OtÃ¡zky</a>
    <a href="gallery.html">Galerie</a>
    <a href="settings.html">NastavenÃ­</a>
  </nav>
</header>

<main class="container">
  <h1>OtÃ¡zky</h1>
  <div id="questions-container"></div>
</main>

<script>
  const DATA = [{"q": "Kdy a kde jsme se poprvÃ© vidÄ›li osobnÄ›?", "a": "Bylo to 6. 9. v LÃ¡nech na naÅ¡em prvnÃ­m randÃ­Äku a byl tam i Arronekâ˜ºï¸"}, {"q": "Jak jsme se rozlouÄili na prvnÃ­m rande?", "a": "Ehmm dala jsem mu pusu na tvÃ¡Å™ğŸ˜…"}, {"q": "Co je mÅ¯j nejvÄ›tÅ¡Ã­ zlozvyk?", "a": "Od ty doby co jsem poznala Mateje, tak to je maÄkanÃ­ jeho zadku xD"}, {"q": "JakÃ¡ je moje nejoblÃ­benÄ›jÅ¡Ã­ pÅ™ezdÃ­vka pro tebe?", "a": "ÄubÃ­k"}, {"q": "JakÃ© jÃ­dlo bych mohla jÃ­st kaÅ¾dÃ½ den?", "a": "Jaaj sushi urÄitÄ› ğŸ£"}, {"q": "Co mÄ› na tobÄ› nejvÃ­c rajcuje?", "a": "NejvÃ­c hot je kdyÅ¾ skÅ™Ã­pe zubama, kdyÅ¾ mi maÄkÃ¡ prdelku hihi"}, {"q": "Co mÃ¡m na tobÄ› nejradÅ¡i?", "a": "KdyÅ¾ na sobÄ› nic nemÃ¡Å¡ xD (ale taky to ze umÃ­Å¡ vymyslet alternativu Å™eÅ¡enÃ­ a tÃ­m jsi ma opora)"}, {"q": "OblÃ­benÃ¡ pÃ­sniÄka nebo interpret?", "a": "Hans Zimmer"}, {"q": "Jsem spÃ­Å¡ tÃ½m hory nebo moÅ™e?", "a": "NejlÃ­p kombo. Ale kdyÅ¾ si mÃ¡m vybrat, tak hory. ğŸ”ï¸"}, {"q": "Kdybych byla zvÃ­Å™e, co bych byla?", "a": "NejvÃ­c cute mi pÅ™ijdou vombati, ale chtÄ›la bych bÃ½t asi makak"}, {"q": "JakÃ½ je mÅ¯j tajnÃ½ talent?", "a": "UmÃ­m odhadnout dost pÅ™esnÄ› Äas na treku. A taky tancovat lap dance ale pssstğŸ˜›ğŸ™‚"}, {"q": "JakÃ¡ je moje nejoblÃ­benÄ›jÅ¡Ã­ pÅ™Ã­chuÅ¥ zmrzliny?", "a": "Tak tohle je hard. Ale Å™eknu mango (ale i araÅ¡Ã­d, pistÃ¡cie, maracuja)"}, {"q": "JakÃ© je naÅ¡e mÃ­sto?", "a": "VÅ¯znice! Akce - Signal festival"}, {"q": "Kdy jsem ti poprvÃ© Å™ekla â€miluji tÄ›â€œ?", "a": "V obytÅˆÃ¡ku u tebe na zahradÄ›."}, {"q": "MÅ¯j oblÃ­benÃ½ kus obleÄenÃ­?", "a": "BÃ­lo-ÄervenÃ© prouÅ¾katÃ© Å¡aty (roxy kalhoty, Vansky)"}, {"q": "OblÃ­benÃ½ champ v LoLku?", "a": "LÃ­bÃ­ se mi Irelia âœ¨"}, {"q": "OblÃ­benÃ¡ sexuÃ¡lnÃ­ poloha?", "a": "uuuu tak tohle je jasnyâ€¦zezadu kdyÅ¾ mi u toho drÅ¾Ã­Å¡ vlasy ğŸ˜œ"}];

  function saveSeen(idx){
    try{
      const key = 'questionsState';
      const arr = JSON.parse(localStorage.getItem(key)||'[]');
      arr[idx] = true;
      localStorage.setItem(key, JSON.stringify(arr));
    }catch(e){}
  }

  function isSeen(idx){
    try{
      const arr = JSON.parse(localStorage.getItem('questionsState')||'[]');
      return !!arr[idx];
    }catch(e){ return false; }
  }

  function ensureTotal(){
    try{ localStorage.setItem('questionsTotal', String(DATA.length)); }catch(e){}
  }

  function render(){
    ensureTotal();
    const root = document.getElementById('questions-container');
    root.innerHTML = '';

    DATA.forEach((item, i) => {
      const idx = i + 1;
      const card = document.createElement('article');
      card.className = 'question';

      const h2 = document.createElement('h2');
      h2.textContent = 'OtÃ¡zka ' + idx;

      const p = document.createElement('p');
      p.className = 'q-text';
      p.textContent = item.q;

      const actions = document.createElement('div');
      actions.className = 'actions';

      const btn = document.createElement('button');
      btn.className = 'btn';
      btn.textContent = 'Zobrazit odpovÄ›Ä';

      const status = document.createElement('div');
      status.className = 'muted';
      status.textContent = isSeen(i) ? 'âœ”ï¸ UÅ¾ jsi otevÅ™el' : 'â€”';

      const answerWrap = document.createElement('div');
      answerWrap.className = 'answer';
      answerWrap.style.display = 'none';

      const answerLabel = document.createElement('div');
      answerLabel.className = 'muted';
      answerLabel.textContent = 'OdpovÄ›Ä';

      const answerBody = document.createElement('div');
      answerBody.style.fontWeight = '800';
      answerBody.textContent = item.a || 'â€”';

      answerWrap.appendChild(answerLabel);
      answerWrap.appendChild(answerBody);

      btn.addEventListener('click', () => {
        const visible = answerWrap.style.display !== 'none';
        answerWrap.style.display = visible ? 'none' : 'block';
        btn.textContent = visible ? 'Zobrazit odpovÄ›Ä' : 'SkrÃ½t odpovÄ›Ä';
        if (!visible) { // prÃ¡vÄ› se otevÅ™elo
          saveSeen(i);
          status.textContent = 'âœ”ï¸ UÅ¾ jsi otevÅ™el';
        }
      });

      actions.appendChild(btn);

      card.appendChild(h2);
      card.appendChild(p);
      card.appendChild(actions);
      card.appendChild(answerWrap);
      card.appendChild(status);

      root.appendChild(card);
    });
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', render);
  } else {
    render();
  }
</script>
</body>
</html>
