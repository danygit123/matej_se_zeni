<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ot√°zky</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<header>
  <nav class="topnav">
    <a href="home.html">Dom≈Ø</a>
    <a href="index.html">√ökoly</a>
    <a href="otazky.html" aria-current="page">Ot√°zky</a>
    <a href="gallery.html">Galerie</a>
    <a href="settings.html">Nastaven√≠</a>
  </nav>
</header>

<main class="container">
  <h1>Ot√°zky</h1>
  <p class="muted">Ot√°zky jsou nejd≈ô√≠v skryt√©. Klikni na <strong>‚ÄûVybrat ot√°zku‚Äú</strong> a teprve potom uvid√≠≈° text ot√°zky. Odpovƒõƒè je pak samostatnƒõ na tlaƒç√≠tko.</p>
  <div id="questions-container" class="cards"></div>
</main>

<script>
  const DATA = [{"q": "Kdy a kde jsme se poprv√© vidƒõli osobnƒõ?", "a": "Bylo to 6. 9. v L√°nech na na≈°em prvn√≠m rand√≠ƒçku a byl tam i Arronek‚ò∫Ô∏è"}, {"q": "Jak jsme se rozlouƒçili na prvn√≠m rande?", "a": "Ehmm dala jsem mu pusu na tv√°≈ôüòÖ"}, {"q": "Co je m≈Øj nejvƒõt≈°√≠ zlozvyk?", "a": "Od ty doby co jsem poznala Mateje, tak to je maƒçkan√≠ jeho zadku xD"}, {"q": "Jak√° je moje nejobl√≠benƒõj≈°√≠ p≈ôezd√≠vka pro tebe?", "a": "ƒçub√≠k"}, {"q": "Jak√© j√≠dlo bych mohla j√≠st ka≈æd√Ω den?", "a": "Jaaj sushi urƒçitƒõ üç£"}, {"q": "Co mƒõ na tobƒõ nejv√≠c rajcuje?", "a": "Nejv√≠c hot je kdy≈æ sk≈ô√≠pe zubama, kdy≈æ mi maƒçk√° prdelku hihi"}, {"q": "Co m√°m na tobƒõ nejrad≈°i?", "a": "Kdy≈æ na sobƒõ nic nem√°≈° xD (ale taky to ze um√≠≈° vymyslet alternativu ≈ôe≈°en√≠ a t√≠m jsi ma opora)"}, {"q": "Obl√≠ben√° p√≠sniƒçka nebo interpret?", "a": "Hans Zimmer"}, {"q": "Jsem sp√≠≈° t√Ωm hory nebo mo≈ôe?", "a": "Nejl√≠p kombo. Ale kdy≈æ si m√°m vybrat, tak hory. üèîÔ∏è"}, {"q": "Kdybych byla zv√≠≈ôe, co bych byla?", "a": "Nejv√≠c cute mi p≈ôijdou vombati, ale chtƒõla bych b√Ωt asi makak"}, {"q": "Jak√Ω je m≈Øj tajn√Ω talent?", "a": "Um√≠m odhadnout dost p≈ôesnƒõ ƒças na treku. A taky tancovat lap dance ale pssstüòõüôÇ"}, {"q": "Jak√° je moje nejobl√≠benƒõj≈°√≠ p≈ô√≠chu≈• zmrzliny?", "a": "Tak tohle je hard. Ale ≈ôeknu mango (ale i ara≈°√≠d, pist√°cie, maracuja)"}, {"q": "Jak√© je na≈°e m√≠sto?", "a": "V≈Øznice! Akce - Signal festival"}, {"q": "Kdy jsem ti poprv√© ≈ôekla ‚Äûmiluji tƒõ‚Äú?", "a": "V obyt≈à√°ku u tebe na zahradƒõ."}, {"q": "M≈Øj obl√≠ben√Ω kus obleƒçen√≠?", "a": "B√≠lo-ƒçerven√© prou≈ækat√© ≈°aty (roxy kalhoty, Vansky)"}, {"q": "Obl√≠ben√Ω champ v LoLku?", "a": "L√≠b√≠ se mi Irelia ‚ú®"}, {"q": "Obl√≠ben√° sexu√°ln√≠ poloha?", "a": "uuuu tak tohle je jasny‚Ä¶zezadu kdy≈æ mi u toho dr≈æ√≠≈° vlasy üòú"}];

  function saveSeen(idx){
    try{
      const key = 'questionsState';
      const arr = JSON.parse(localStorage.getItem(key)||'[]');
      arr[idx] = true;
      localStorage.setItem(key, JSON.stringify(arr));
    }catch(e){}
  }
  function isSeen(idx){
    try{
      const arr = JSON.parse(localStorage.getItem('questionsState')||'[]');
      return !!arr[idx];
    }catch(e){ return false; }
  }
  function ensureTotal(){
    try{ localStorage.setItem('questionsTotal', String(DATA.length)); }catch(e){}
  }

  function render(){
    ensureTotal();
    const root = document.getElementById('questions-container');
    root.innerHTML = '';

    DATA.forEach((item, i) => {
      const idx = i + 1;
      const card = document.createElement('article');
      card.className = 'card';

      const title = document.createElement('h2');
      title.textContent = 'Ot√°zka ' + idx;

      const actions = document.createElement('div');
      actions.className = 'actions';

      const pickBtn = document.createElement('button');
      pickBtn.className = 'btn';
      pickBtn.textContent = 'Vybrat ot√°zku';

      const qWrap = document.createElement('div');
      qWrap.style.display = 'none';

      const qText = document.createElement('p');
      qText.className = 'q-text';
      qText.textContent = item.q;

      const answerWrap = document.createElement('div');
      answerWrap.className = 'answer';
      answerWrap.style.display = 'none';

      const answerLabel = document.createElement('div');
      answerLabel.className = 'muted';
      answerLabel.textContent = 'Odpovƒõƒè';

      const answerBody = document.createElement('div');
      answerBody.style.fontWeight = '800';
      answerBody.textContent = item.a || '‚Äî';

      const showAnswerBtn = document.createElement('button');
      showAnswerBtn.className = 'btn secondary';
      showAnswerBtn.textContent = 'Zobrazit odpovƒõƒè';
      showAnswerBtn.addEventListener('click', () => {
        const visible = answerWrap.style.display !== 'none';
        answerWrap.style.display = visible ? 'none' : 'block';
        showAnswerBtn.textContent = visible ? 'Zobrazit odpovƒõƒè' : 'Skr√Ωt odpovƒõƒè';
        if (!visible) { saveSeen(i); status.textContent = '‚úîÔ∏è U≈æ jsi otev≈ôel'; }
      });

      const status = document.createElement('div');
      status.className = 'muted';
      status.textContent = isSeen(i) ? '‚úîÔ∏è U≈æ jsi otev≈ôel' : '‚Äî';

      pickBtn.addEventListener('click', () => {
        const visible = qWrap.style.display !== 'none';
        qWrap.style.display = visible ? 'none' : 'block';
        pickBtn.textContent = visible ? 'Vybrat ot√°zku' : 'Skr√Ωt ot√°zku';
      });

      answerWrap.appendChild(answerLabel);
      answerWrap.appendChild(answerBody);

      qWrap.appendChild(qText);
      qWrap.appendChild(showAnswerBtn);
      qWrap.appendChild(answerWrap);

      actions.appendChild(pickBtn);

      card.appendChild(title);
      card.appendChild(actions);
      card.appendChild(qWrap);
      card.appendChild(status);

      root.appendChild(card);
    });
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', render);
  } else {
    render();
  }
</script>
</body>
</html>
