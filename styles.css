/* ===== Base ===== */
:root{
  --bg:#ffffff;
  --text:#0f172a;
  --muted:#6b7280;
  --primary:#2563eb;
  --card:#f9fafb;
  --radius:16px;
  --shadow:0 6px 20px rgba(0,0,0,.08);
}
@media (prefers-color-scheme: dark){
  :root{ --bg:#0b1020; --text:#e5e7eb; --muted:#9ca3af; --card:#111827; --primary:#3b82f6; }
}

*{ box-sizing:border-box; }
html{ font-size:18px; }
body{
  margin:0; background:var(--bg); color:var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji","Segoe UI Emoji";
  line-height:1.5;
}

a{ color:inherit; text-decoration:none; }
a:hover{ text-decoration:underline; }

header{
  position:sticky; top:0; z-index:10;
  backdrop-filter:saturate(1.2) blur(6px);
  background:color-mix(in srgb, var(--bg) 80%, transparent);
  border-bottom:1px solid rgba(0,0,0,.06);
}
nav{
  display:flex; gap:12px; padding:10px 16px; overflow:auto;
}
nav a{
  padding:8px 12px; border-radius:999px; white-space:nowrap;
  border:1px solid rgba(0,0,0,.06); background:var(--card);
}
nav a[aria-current="page"]{ background:var(--primary); color:#fff; }

.container{ width:100%; max-width:960px; margin:0 auto; padding:12px 16px 32px; }

.sr-only{
  position:absolute !important; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}

.muted{ color:var(--muted); }

/* ===== Buttons ===== */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  min-height:48px; padding:10px 14px; border-radius:12px; border:0;
  background:var(--primary); color:#fff; font-weight:700; cursor:pointer;
  box-shadow:var(--shadow);
}
.btn:hover{ filter:brightness(1.05); }
.btn-secondary{ background:#6b7280; color:#fff; }
.btn:focus-visible{ outline:3px solid color-mix(in srgb, var(--primary) 40%, transparent); outline-offset:2px; }

/* ===== Hero ===== */
.hero{ padding:18px 0 6px; }
.hero-title{ font-size:2rem; margin:0; font-weight:800; }

/* ===== Banners on Home ===== */
.banner-grid{
  display:grid; grid-template-columns:1fr; gap:12px; margin:10px 0 24px;
}
@media (min-width:680px){
  .banner-grid{
    grid-template-areas:
      "a b"
      "c c"
      "d d";
    grid-template-columns:1fr 1fr;
  }
  .banner-grid .banner:nth-child(1){ grid-area:a; }
  .banner-grid .banner:nth-child(2){ grid-area:b; }
  .banner-grid .banner:nth-child(3){ grid-area:c; }
  .banner-grid .banner:nth-child(4){ grid-area:d; }
}
.banner{
  display:block; border-radius:24px; background:var(--card);
  padding:22px; min-height:120px; box-shadow:var(--shadow);
  border:1px solid rgba(0,0,0,.06);
}
.banner--wide{ min-height:160px; }
.banner--small{ min-height:100px; opacity:.97; }
.banner-inner{ display:flex; gap:12px; align-items:center; }
.banner-icon{ font-size:2rem; }
.banner-title{ font-size:1.6rem; font-weight:800; }

/* ===== Countdown ===== */
.countdown-wrap{
  margin:6px 0 24px; padding:16px; border-radius:16px;
  background:linear-gradient(135deg, rgba(0,0,0,.06), rgba(0,0,0,.12));
}
.countdown-title{ margin:0 0 8px; font-size:1.2rem; font-weight:700; }
.countdown{ font-size:1.6rem; font-weight:800; }

/* ===== Tasks page essentials (progress bar etc.) ===== */
.progress-wrap{ display:grid; grid-template-columns:1fr auto; align-items:center; gap:12px; margin:8px 0 20px; }
.progress-track{ position:relative; height:14px; width:100%; background:rgba(0,0,0,.08); border-radius:999px; overflow:hidden; }
@media (prefers-color-scheme: dark){ .progress-track{ background:rgba(255,255,255,.16); } }
.progress-bar{ height:100%; width:0%; background:var(--primary); border-radius:999px; transition:width .2s ease; }
.progress-percent{ min-width:3ch; font-variant-numeric:tabular-nums; font-weight:700; }

.task{ background:var(--card); border:1px solid rgba(0,0,0,.06); border-radius:16px; padding:16px; margin:10px 0; box-shadow:var(--shadow); }
.task h2{ margin:0 0 6px; font-size:1.2rem; }
.done-label{ color:#16a34a; font-weight:800; }
.skip-label{ color:#b45309; font-weight:800; }

.task-controls{
  display:grid; grid-template-columns:1fr auto auto auto; gap:8px; align-items:center; margin:8px 0 16px;
}
.task-controls label{ font-weight:600; }
.task-controls input[type="number"]{
  min-height:44px; border-radius:10px; border:1px solid rgba(0,0,0,.2); padding:8px 10px; font-size:1rem;
}
@media (max-width:520px){
  .task-controls{ grid-template-columns:1fr 1fr; }
  .task-controls label, .task-controls input[type="number"]{ grid-column:1 / -1; }
}

/* ===== Questions page bigger UI ===== */
.question{ background:var(--card); border:1px solid rgba(0,0,0,.06); border-radius:16px; padding:20px; margin:10px 0; box-shadow:var(--shadow); font-size:1.1rem; }
.question h2{ font-size:1.4rem; margin:0 0 8px; }
.question .btn{ min-height:52px; font-size:1.05rem; }

/* ===== Gallery ===== */
.gallery-layout{ display:grid; grid-template-columns:1fr; gap:16px; }
@media (min-width:920px){ .gallery-layout{ grid-template-columns:2fr 1fr; } } /* asymetrie: úkoly 2/3, otázky 1/3 */

.gallery-grid{ display:grid; grid-template-columns:1fr; gap:12px; }
@media (min-width:520px){ .gallery-grid-tasks{ grid-template-columns:1fr 1fr; } .gallery-grid-questions{ grid-template-columns:1fr; } }

.gallery-card{ position:relative; background:var(--card); border-radius:12px; overflow:hidden; box-shadow:0 2px 10px rgba(0,0,0,.06); border:1px solid rgba(0,0,0,.06); }
.gallery-card .photo{ position:relative; aspect-ratio:1/1; margin:0; display:grid; place-items:center; background:linear-gradient(135deg, rgba(0,0,0,.06), rgba(0,0,0,.12)); }
.gallery-card .photo img{ width:100%; height:100%; object-fit:cover; }
.gallery-card.locked .photo{ filter:blur(6px) grayscale(.3); }
.gallery-card.locked .badge{ background:#9ca3af; }
.gallery-card .badge{ position:absolute; top:8px; left:8px; padding:4px 8px; background:var(--primary); color:#fff; font-weight:700; border-radius:999px; font-size:.9rem; letter-spacing:.02em; }
.gallery-card figcaption{ position:absolute; bottom:8px; right:8px; padding:4px 8px; background:rgba(0,0,0,.6); color:#fff; border-radius:8px; font-size:.85rem; }
